<?xml version="1.0" encoding="UTF-8"?>
<!--
Diagram 3 — The Circle (Value Field) (Canonical Reference)
Purpose: Show that individuals act inside a bounded value field that amplifies/damps ripples (objective effects) across MOQ levels.
Constraints:
- Text governs; diagram is explanatory.
- No competing circles, no power/enforcement, no moral disagreement zones yet.
- No moral labels, no Dynamic Quality mechanism.
-->
<svg xmlns="http://www.w3.org/2000/svg" width="1400" height="900" viewBox="0 0 1400 900" role="img" aria-label="Diagram 3: Circle as value field with node and ripples amplified inside and damped outside">
  <defs>
    <!-- Background gradient -->
    <linearGradient id="bgGrad" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#05060b"/>
      <stop offset="100%" stop-color="#0b1020"/>
    </linearGradient>

    <!-- Neon ripple gradient (legend) -->
    <linearGradient id="neonGrad" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#00e5ff"/>
      <stop offset="50%" stop-color="#a855f7"/>
      <stop offset="100%" stop-color="#ff4fd8"/>
    </linearGradient>

    <!-- Soft glow -->
    <filter id="glow" x="-40%" y="-40%" width="180%" height="180%">
      <feGaussianBlur stdDeviation="3.2" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <!-- Label shadow -->
    <filter id="labelShadow" x="-30%" y="-30%" width="160%" height="160%">
      <feGaussianBlur stdDeviation="1.4" result="lsBlur"/>
      <feOffset dx="0" dy="1" result="lsOff"/>
      <feMerge>
        <feMergeNode in="lsOff"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <style><![CDATA[
      .tPrimary { fill: #e8eefc; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
      .tSecondary { fill: #c7d2ee; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
      .tSmall { font-size: 16px; letter-spacing: 0.3px; }
      .tMedium { font-size: 18px; letter-spacing: 0.2px; }
      .tTitle { font-size: 28px; font-weight: 700; letter-spacing: 0.3px; }
      .tSub { font-size: 18px; opacity: 0.92; }
      .bandLabel { font-size: 16px; font-weight: 600; letter-spacing: 0.5px; text-transform: uppercase; opacity: 0.9; }
      .bandStroke { stroke: rgba(232,238,252,0.10); stroke-width: 1; }
      .fieldStroke { stroke: rgba(232,238,252,0.40); stroke-width: 2.2; fill: rgba(232,238,252,0.03); }
    ]]></style>

    <!-- Clip path for in-field amplification styling (ripples inside circle) -->
    <clipPath id="fieldClip">
      <circle cx="700" cy="460" r="260"/>
    </clipPath>
  </defs>

  <!-- Background -->
  <rect x="0" y="0" width="1400" height="900" fill="url(#bgGrad)"/>

  <!-- Title -->
  <g transform="translate(80,72)">
    <text class="tPrimary tTitle">Diagram 3 — The Circle (Value Field)</text>
    <text y="32" class="tSecondary tSub">A bounded field shapes consequences: ripples amplify inside and dampen outside (without subjectivism).</text>
  </g>

  <!-- Level bands (keep consistent with Diagram 1–2) -->
  <g transform="translate(120,150)">
    <rect x="0" y="0" width="1160" height="620" rx="28" fill="rgba(232,238,252,0.04)" class="bandStroke"/>
    <rect x="0" y="0" width="1160" height="155" rx="28" fill="#081020" opacity="0.92"/>
    <rect x="0" y="155" width="1160" height="155" fill="#0a1428" opacity="0.92"/>
    <rect x="0" y="310" width="1160" height="155" fill="#0c1730" opacity="0.92"/>
    <rect x="0" y="465" width="1160" height="155" rx="28" fill="#0d1a34" opacity="0.92"/>
    <line x1="0" y1="155" x2="1160" y2="155" class="bandStroke"/>
    <line x1="0" y1="310" x2="1160" y2="310" class="bandStroke"/>
    <line x1="0" y1="465" x2="1160" y2="465" class="bandStroke"/>
<!-- Circle field (centered) -->
    <!-- Note: group is shifted; field center at (580,310) in Diagram 1; here we use a slightly lower center for space -->
    <!-- Stack coords: x 0..1160, y 0..620 -->
    <!-- Field center chosen: (580,310) + (120 offset?) Actually inside this group, use (580,310) -->
    <g>
      <!-- Soft field boundary -->
      <circle cx="580" cy="310" r="260" class="fieldStroke"/>
      <!-- Field label -->
      <g filter="url(#labelShadow)">
        <rect x="820" y="24" width="320" height="56" rx="16" fill="rgba(5,6,11,0.55)" stroke="rgba(232,238,252,0.10)"/>
        <text x="840" y="48" class="tPrimary tSmall" font-weight="700">Circle (Value Field)</text>
        <text x="840" y="70" class="tSecondary tSmall">e.g., Family / Team / Community</text>
      </g>

      <!-- In-field vs out-field hint labels (no disagreement yet) -->
      <g filter="url(#labelShadow)">
        <text x="900" y="220" class="tSecondary tSmall">In-field effects</text>
        <text x="920" y="500" class="tSecondary tSmall" opacity="0.85">Out-field effects</text>
      </g>
    </g>

    <!-- Nodes inside the circle -->
    <g>
      <!-- Primary node -->
      <circle cx="520" cy="310" r="28" fill="none" stroke="rgba(232,238,252,0.85)" stroke-width="2.2"/>
      <circle cx="520" cy="310" r="14" fill="rgba(232,238,252,0.92)"/>
      <circle cx="520" cy="310" r="42" fill="none" stroke="rgba(0,229,255,0.16)" stroke-width="10" />
      <!-- Secondary node (to suggest multiple participants, no links yet) -->
      <circle cx="650" cy="250" r="18" fill="none" stroke="rgba(232,238,252,0.55)" stroke-width="1.8"/>
      <circle cx="650" cy="250" r="9" fill="rgba(232,238,252,0.75)"/>
      <circle cx="620" cy="390" r="18" fill="none" stroke="rgba(232,238,252,0.55)" stroke-width="1.8"/>
      <circle cx="620" cy="390" r="9" fill="rgba(232,238,252,0.75)"/>

      <g filter="url(#labelShadow)">
        <text x="562" y="315" class="tPrimary tMedium" font-weight="700">Value Node</text>
        <text x="562" y="338" class="tSecondary tSmall">Participant</text>
      </g>
    </g>

    <!-- Ripples: show amplification inside the circle and damping outside -->
    <!-- Strategy: draw two ripple sets:
         1) Inside-field ripples (clipped to circle), higher opacity/weight
         2) Outside-field ripples (unclipped), lower opacity/weight, fewer rings
    -->
    <!-- Inside-field amplification (clipped) -->
    <g clip-path="url(#fieldClip)" filter="url(#glow)">
      <circle cx="520" cy="310" r="80" fill="none" stroke="url(#neonGrad)" stroke-width="3.6" opacity="0.55"/>
      <circle cx="520" cy="310" r="135" fill="none" stroke="url(#neonGrad)" stroke-width="3.2" opacity="0.40"/>
      <circle cx="520" cy="310" r="195" fill="none" stroke="url(#neonGrad)" stroke-width="2.8" opacity="0.28"/>
      <circle cx="520" cy="310" r="245" fill="none" stroke="url(#neonGrad)" stroke-width="2.4" opacity="0.20"/>
    </g>

    <!-- Outside-field damping (unclipped, reduced intensity) -->
    <g filter="url(#glow)">
      <circle cx="520" cy="310" r="300" fill="none" stroke="url(#neonGrad)" stroke-width="2.2" opacity="0.10"/>
      <circle cx="520" cy="310" r="360" fill="none" stroke="url(#neonGrad)" stroke-width="2.0" opacity="0.07"/>
      <circle cx="520" cy="310" r="430" fill="none" stroke="url(#neonGrad)" stroke-width="1.8" opacity="0.05"/>
    </g>

    <!-- Boundary interaction cue: subtle highlight on field boundary where ripples cross -->
    <g>
      <path d="M 780 310 A 260 260 0 0 1 770 385" fill="none" stroke="rgba(0,229,255,0.18)" stroke-width="6" stroke-linecap="round"/>
      <path d="M 325 255 A 260 260 0 0 1 330 220" fill="none" stroke="rgba(255,79,216,0.14)" stroke-width="6" stroke-linecap="round"/>
    </g>

    <!-- Explanatory boxes -->
    <g transform="translate(40,560)" filter="url(#labelShadow)">
      <rect x="0" y="0" width="440" height="52" rx="16" fill="rgba(5,6,11,0.55)" stroke="rgba(232,238,252,0.10)"/>
      <text x="18" y="22" class="tPrimary tSmall" font-weight="700">Circle = bounded value field</text>
      <text x="18" y="42" class="tSecondary tSmall">A zone of resonance where participation becomes meaningful.</text>
    </g>

    <g transform="translate(600,560)" filter="url(#labelShadow)">
      <rect x="0" y="0" width="440" height="52" rx="16" fill="rgba(5,6,11,0.55)" stroke="rgba(232,238,252,0.10)"/>
      <text x="18" y="22" class="tPrimary tSmall" font-weight="700">Field shapes consequences</text>
      <text x="18" y="42" class="tSecondary tSmall">Ripples amplify inside; they dampen and diffuse outside.</text>
    </g>
  </g>

  <!-- Footer -->
  <g transform="translate(80,850)">
    <text class="tSecondary tSmall" opacity="0.85">Diagram 3 introduces context realism: effects change with field structure without reducing value to interpretation.</text>
  </g>

  <!-- ===== Diagram 3x v4 — Circle Contents by Level (Tight, Non-overlapping) ===== -->
  <defs>
    <style><![CDATA[
      .xBox { fill: rgba(5,6,11,0.62); stroke: rgba(232,238,252,0.14); stroke-width: 1; }
      .xHdr { fill: #e8eefc; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; font-size: 15px; font-weight: 800; letter-spacing: 0.25px; }
      .xTxt { fill: #c7d2ee; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; font-size: 13px; letter-spacing: 0.12px; }
      .xLine { stroke: rgba(232,238,252,0.14); stroke-width: 1.4; fill: none; }
      .xTag { fill: rgba(232,238,252,0.10); stroke: rgba(232,238,252,0.16); stroke-width: 1; }
      .kP { fill: rgba(0,229,255,0.78); }
      .kB { fill: rgba(168,85,247,0.82); }
      .kS { fill: rgba(255,79,216,0.80); }
      .kI { fill: #e8eefc; }
    ]]></style>
  </defs>

  <g id="diagram-3x-explainer" aria-label="Diagram 3x: Circle contents by level">
    <!-- Tag -->
    <g transform="translate(1020,112)">
      <rect x="0" y="0" width="310" height="30" rx="12" class="xTag"/>
      <text x="12" y="20" class="xHdr">Diagram 3x</text>
      <text x="115" y="20" class="xTxt">Circle contents (by level)</text>
    </g>

    <!-- Left column (x=150, y from 190) -->
    <!-- Physical -->
    <g transform="translate(150,190)">
      <rect x="0" y="0" width="440" height="70" rx="14" class="xBox"/>
      <text x="14" y="24" class="xHdr"><tspan class="kP">Physical</tspan> anchoring</text>
      <text x="14" y="48" class="xTxt">Space • infrastructure • tools • stored resources (material residue)</text>
    </g>
    <path d="M 590 225 C 740 250, 800 285, 840 320" class="xLine"/>

    <!-- Biological -->
    <g transform="translate(150,310)">
      <rect x="0" y="0" width="440" height="70" rx="14" class="xBox"/>
      <text x="14" y="24" class="xHdr"><tspan class="kB">Biological</tspan> capacity</text>
      <text x="14" y="48" class="xTxt">People • health • energy • competence • attention (constraints)</text>
    </g>
    <path d="M 590 345 C 750 360, 810 390, 850 420" class="xLine"/>

    <!-- Social -->
    <g transform="translate(150,430)">
      <rect x="0" y="0" width="440" height="84" rx="14" class="xBox"/>
      <text x="14" y="24" class="xHdr"><tspan class="kS">Social</tspan> binding</text>
      <text x="14" y="48" class="xTxt">Belonging • loyalty • reciprocity • exclusion • enforcement • myth/meaning</text>
      <text x="14" y="68" class="xTxt">Holds the field together (participation + cost-bearing)</text>
    </g>
    <path d="M 590 470 C 760 465, 820 450, 860 430" class="xLine"/>

    <!-- Intellectual -->
    <g transform="translate(150,560)">
      <rect x="0" y="0" width="440" height="70" rx="14" class="xBox"/>
      <text x="14" y="24" class="xHdr"><tspan class="kI">Intellectual</tspan> orientation</text>
      <text x="14" y="48" class="xTxt">Planning • learning • error correction • adaptive coordination</text>
    </g>
    <path d="M 590 595 C 760 575, 825 545, 870 515" class="xLine"/>

    <!-- Compact condition tag (under the column) -->
    <g transform="translate(150,650)">
      <rect x="0" y="0" width="440" height="54" rx="14" class="xBox"/>
      <text x="14" y="22" class="xHdr">Circle exists (operational)</text>
      <text x="14" y="42" class="xTxt">Persists while individuals participate, accept binding, and bear costs</text>
    </g>
  </g>

</svg>
